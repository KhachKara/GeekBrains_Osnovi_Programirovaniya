<meta charset="utf-8">
<script type="text/javascript">

var Deposit=100;			//Deposit-сумма которое дает программа на игру
var ChisloStavok;			//ChisloStavok-заранее вводится количество ставок игрок
var SummaStavki;			//SummaStavki-сумма ставок по разным позициям 
 
var Robot;					//Robot-это случайное число сгенерированное компьютером 
							//из массива arrRuletka
var	arrRed = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];	//Красные цифры
var	arrBlack = [2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];	//Чёргые цифры
var arrChet = [2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36];	//Чётные цифры
var arrNeChet = [1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35];	//Нечётные цифры
var Color;					//Color - переменная хранит цвет выпавшей цифры 
var ChetNechet;				//ChetNechet - переменная хранит чётность выпавшей цифры
var Stop;					//Stop - условие при котором игра закончивается Stop == "Да"

alert("!!! ИГРА РУЛЕТКА !!!" + "\n" + "\n" + "Ваш депозит " + Deposit + "\n" + "\n" +  "Пояснение:" + "\n" + "ЧЕТ - Все чётные числа" + "\n" + "НЕЧЕТ - Все нечётные числа" + "\n" + "КР - Красное" + "\n" + "ЧЕР - Чёрное" + "\n" + "\n" +  "ВНИМАНИЕ!!!" + "\n" + "Для ставок вводите КОРРЕКТНЫЕ данные!" + "\n" + "Цифры от 0 до 36, для остальных позиций русские буквы в верхнем регистре." + "\n" + "После каждой ставки нажмите ENTER." + "\n" + "\n" + "УДАЧИ!");

//Начало циклической игры	
do{
var arrRuletka=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,'ЧЕТ','НЕЧЕТ','КР','ЧЕР'];//arrRuletka массив

var Viigrish = 0;			//Viigrish-выигрыш игрока
var arrStavka = [];				//arrStavka-массив ставок, вводится через запятую
var TsenaStavki = 0;			//TsenaStavki-цена единицы ставки
var ChisloSovpadeni = 0;		//ChisloSovpadeni-число совпадений с элементами рулетки	
var ChisloViigrashey =0;		//ChisloViigrashey - для констатации факта выигрыша	

		//вводим стоимость одной ставки
		TsenaStavki = parseInt(prompt("Ваш депозит " + Deposit + "\n" + "\n" + "Укажите размер одной ставки.")); 		

		//вводим количество ставок которыесобираемся сделать.
		ChisloStavok=parseInt(prompt("Ваш депозит " + Deposit + "\n" + "\n" + "Сколько ставок Вы хотите сделать?"));		

		//цикл проверяет достаточно ли средств у игрока. До тех пор пока количество ставок умноженная на еденицу ставки больше депозита выполнить команды внутри цикла.
		while (ChisloStavok*TsenaStavki>Deposit)
		{	
			alert("ВНИМАНИЕ!" + "\n" + "\n" + "У Вас нет достаточных средств что-бы сделать ставки." + "\n" + "Поробуйте уменьшить параметры ставок или пополните свой депозит." + "\n" + "\n" + "Вы ввели: " + "\n" + "Размер ставки: " + TsenaStavki + "\n" + "Количество ставок: " + ChisloStavok  + "\n" + "Ваш депозит " + Deposit); 
			
			//TsenaStavki-это стоимость единицы ставки. Все ставки сделанные с одного раза будут умножатся на данный коэфициент.
			TsenaStavki = parseInt(prompt(" " + Deposit + "\n" + "\n" + "Укажите размер одной ставки.")); 		

			//вводим количество ставок которыесобираемся сделать.
			ChisloStavok=parseInt(parseInt(prompt("Ваш депозит " + Deposit + "\n" + "\n" + "Сколько ставок Вы хотите сделать?")));
		};		

		//циклично заполняем элементы массива, при выводе на экран добавляем 1 для совпадения индекса элемента по счету элемента 
		for(var i=0; i<ChisloStavok; i++){
			arrStavka[i] = prompt("Ваш депозит " + Deposit + "\n" + "\n" + "Сделайте " + (i+1) + " - ую ставку.");
		}		

		SummaStavki=parseInt(TsenaStavki)*(arrStavka.length);	//вычисляем сумму ставок		

		alert("Ваш депозит " + Deposit + "\n" + "\n" + "Количество ставок: " + arrStavka.length + "\n" + "Цена одной ставки: " + TsenaStavki + "\n" +  "Всего сделано ставок на сумму: " + SummaStavki + "\n" + "Вы поставили на: " + arrStavka + "\n" + "Нажмите ENTER или OK для запуска рулетки!");		

		//проверяем корректность вводимых ставок. Если количество совподений с элементами массива равно длине массива ставок, значит все ставки введены корректно
		for(var i=0; i<arrRuletka.length; i++)
		{
			for(var j=0; j<arrStavka.length; j++)
			{
				if(arrStavka[j] == arrRuletka[i]){
					ChisloSovpadeni++;
				}
			}
		};		

		//если все ставки корректны то с депозита отнимаем сумму ставок
		if(ChisloSovpadeni == arrStavka.length){
			Deposit = Deposit - SummaStavki;
			alert("Ваш депозит " + Deposit + "\n" + "\n" + "Ставки сделаны, ставок больше нет!");
		} else {
			alert("НЕ КОРРЕКТНЫЙ ВВОД!" + "\n" + "\n" + "Повторите ввод!" + "\n" + "Вы ввели: " + arrStavka);
			alert("Число совподений: " + ChisloSovpadeni + "\n" + "Количество ставок: " +  arrStavka.length);
		};		

		//Случайным способом выбираем элемент из массива arrRuletka		

		//источник https://learn.javascript.ru/array-methods
		arrRuletka.splice([37]); //в массиве arrRuletka оставляем только цифры		

		//источник http://javascript.ru/forum/misc/40440-vyvod-sluchajjnykh-ehlementov-iz-massiva-v-tablicu.html
		Robot = arrRuletka[Math.round(Math.random()*(arrRuletka.length-1))];		

		//Определяем выпавшую цифру
		for(var i=0; i<arrStavka.length; i++){
			if(Robot == arrStavka[i]){
				alert("Выиграла цифра: " + arrStavka[i]);
			};
			
		};		

		//Цвет и чётность
		for(var i=0; i<arrRed.length; i++){
			
			if(arrRed[i] == Robot){
				Color = 'КР';
			};
		};

		for(var i=0; i<arrBlack.length; i++){

			if (arrBlack[i] == Robot) {
				Color = 'ЧЕР';
			} 
		};
		
		//Вычислаем переменную ChetNechet 	
		if(Robot  == 0){
			ChetNechet = 'NULL';
		} else if (Robot  %2 == 0){
			ChetNechet = 'ЧЕТ';
		} else {
			ChetNechet = 'НЕЧЕТ';
		};		

		alert("НА РУЛЕТКЕ ВЫПАЛА ЦИФРА " + Robot + "\n" + "Цвет: " + Color + "\n" + "Четность: " + ChetNechet);		

		//Вычисляем сумму выигрыша если выподает цифра
		for(var i = 0; i<arrStavka.length; i++){
			if(Robot == arrStavka[i]){
				Viigrish == Viigrish + TsenaStavki * 36;
				ChisloViigrashey++;
				alert("Совпала цифра, " + arrStavka[i]);
			};
		}		

		//Вычисляем сумму выигрыша если выподает цвет и четность
		for(var i=0; i<arrStavka.length; i++){
			if(Color == arrStavka[i]){
				Viigrish = Viigrish + TsenaStavki*2;
				ChisloViigrashey++;
				alert("Совпал цвет, " + arrStavka[i]);
			}
			if(ChetNechet == arrStavka[i]){
				Viigrish = Viigrish + TsenaStavki*2;
				ChisloViigrashey;
				alert("Совпал четность, " + arrStavka[i]);
			}		
		}		

		if(ChisloViigrashey != 0){
			alert("Вы вииграли: " + Viigrish + "\n" + "Ваш депозит: " + Deposit + " + " + Viigrish);
		}

		Deposit = Deposit + Viigrish;

		//Обнуляем ставки и размер одной ставки 
		TsenaStavki = 0;
		alert(arrStavka);
		arrStavka = [];
		arrStavka.length = 0;
		Stop = prompt("Ваш депозит: " + Deposit + "\n" + "Наберите 'НЕТ' если желаете закончить игру." + "\n" );
		
} while (Stop != "НЕТ"); //Конец циклической игры

alert("СПАСИБО ЗА ИГРУ!");
		
		
</script>