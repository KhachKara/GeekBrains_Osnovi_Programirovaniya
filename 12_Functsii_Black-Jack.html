<meta charset="utf-8">
<script type="text/javascript">

var arrIgrok = [];													// Карты игрока
var arrDealer = [];													// Карты дилера
var arrKarti = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];		// Карты
var	arrTsenaKart = [2,3,4,5,6,7,8,9,10,10,10,10,11];				// Цена карт
var Deposit = 100;													// Депозит 
var	Stavka = 0;												// Стоимость одной ставки
var Viigrish = 0											// Выиигрыш
var Eshe = '0';

alert("УРОК 12 ФУНКЦИИ" + "\n" + "\n" + "Игра BLACK JACK" + "\n" + "\n" + "Ценность карт." + "\n" + "2 - 2" + "\n" + "3 - 3" + "\n" + "4 - 4" + "\n" + "5 - 5" + "\n" + "6 - 6" + "\n" + "7 - 7" + "\n" + "8 - 8" + "\n" + "9 - 9" + "\n" + "10 - 10" + "\n" + "J - 10" + "\n" + "Q - 10" + "\n" + "K - 10" + "\n" + "A - 11");

//тело игры в Black Jack
do{
	var Stop = '0';			//переменная для выхода из цикла
	var SummaIgroka = 0;	//Сумма карт игрока

	//функция для генерации случайных чисел в заданном диапазоне min, max
	function sluchaynoeChislo(min, max){
		return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	//функция для генерации случайных карт
	function razdachaKart(){
		return arrKarti[sluchaynoeChislo(0,arrTsenaKart.length - 1)];
	};

	// // функция подсчета суммы карт
	// function f_SummaKart(Sum,arr){
	// for(var i=0; i<arrIgrok.length; i++){
	// 	SummaIgroka = parseInt(SummaIgroka) + parseInt(arrIgrok[i]);
	// return Sum;
	// 	}
	// }

//-----------------------------------------------------------------------------------
	//цикл для выдачи двух карт сразу
	for (var i=0; i < 2; i++) {
		arrIgrok.push(razdachaKart());
	}

	//Сумма ценностей карт игрока
	for(var i=0; i<arrIgrok.length; i++){
		SummaIgroka = SummaIgroka + parseInt(arrIgrok[i]);
	}
		alert(typeof SummaIgroka);
	
	alert("Вам выпали карты: " + arrIgrok + " Сумма: " + SummaIgroka);

	do{

		Eshe = prompt("Вам выпали карты: " + arrIgrok + "\n" + "\n" + "Желаете еще карту?" + "\n" + "\n" + "Если да вводите '0' , если нет 'ENTER'");
		if(Eshe == '0'){
			arrIgrok.push(razdachaKart());
			for(var i=0; i<arrIgrok.length; i++){
				SummaIgroka = SummaIgroka + parseInt(arrIgrok[arrIgrok.length - 1]);
				if(SummaIgroka > 21){
					alert("УПС! ПЕРЕБОР!" + "\n" + "Добавленная карта: " + arrIgrok[arrIgrok.length - 1] + "\n" + "\n" + "Вы проиграли");
					break;
					}
				}
			}			

	alert("Ваши карты: " + arrIgrok + "\n" + "Сумма: " + SummaIgroka);

	}while(Eshe == '0')
		
	arrIgrok = [];
Stop = prompt("Хотите завершить игру?" + "\n" + "Вводите '0' в поле с низу");
} while (Stop != '0')

</script>
<!-- Последная рабочая версия -->